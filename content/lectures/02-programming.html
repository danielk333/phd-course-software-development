---
title: "Python programming"
handout: programming
description: "This lecture will cover the basics of Python and ensure that the programming skills are on a sufficient
level for learning software development"
weight: 2
---

<div class="reveal">
    <div class="slides">

        <section
        data-auto-animate
        data-background-image="media/code.png"
        data-background-opacity="0.7"
        >
            <div class="centered-container">
            </div>
        </section>
        

        <section
        data-auto-animate
        data-background-image="media/code.png"
        data-background-opacity="0.2"
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <div class="row-flex">
                    <ul style="max-width: 40vw;">
                        <p class="mark">What is Python?</p>
                        <li>Interpreted language</li>
                        <li>As high level as you can get</li>
                        <li>Dynamically type-checked</li>
                        <li>Garbage-collected</li>
                        <li>"Batteries included"</li>
                        <li>Modular</li>
                        <div class="fragment" data-fragment-index="3">
                            <p class="mark">Recommendation</p>
                            <li>Also learn a compiled language with memory management<br>
                            <code>C/C++/Rust/Odin/Zig/FORTRAN/...</code>
                            </li>
                        </div>
                    </ul>
                    <ul style="margin-left: 3em; max-width: 40vw;">
                        <div class="fragment" data-fragment-index="1">
                            <p class="highlight">Pros</p>
                            <li>Easy to learn<br>(but with a high skill-ceiling)</li>
                            <li>Powerful</li>
                            <li>Huge user community</li>
                            <li>Easy to debug and prototype</li>
                        </div>
                        <div class="fragment" data-fragment-index="2">
                            <p class="select">Cons</p>
                            <li>Interpreters are slow</li>
                            <li>Dynamic typing can be dangerous</li>
                            <li>Optimization is less obvious</li>
                            <li>Environments can be a bit of a mess</li>
                        </div>
                    </ul>
                </div>
            </div>
        </section>


        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">How Python works</p>
                <ul class="list-sep-small">
                    <li class="fragment">Indentation (tab or number of spaces) decides to what "block" your code belongs</li>
                    <li class="fragment">You can write code ”live” in the interpreter or write scripts, and then run the scripts trough the interpreter</li>
                    <li class="fragment">Each row is executed in sequence (by being interpreted)</li>
                    <li class="fragment">When memory can no longer be reached - python frees it (reference counting)</li>
                </ul>
                <pre class="fragment show-code">
                    <code class="python">
def my_function(x):
    x = x + 2
    y = 5
    return x
                    </code>
                </pre>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Dynamic typing</p>
                <ul class="fragment">
                    <li>Every object has a type</li>
                    <li>Every object knows its type</li>
                    <li>Types are not declared (but can be since Python 3)</li>
                    <li>Names refer to an object</li>
                    <li>Names are not typed</li>
                </ul>
                <pre class="fragment show-code">
                    <code class="python">
a = 5  # a is the name of an object of type integer
a = 5.0  # a is now the name of an object of type float
                    </code>
                </pre>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <h4 class="title">Try this</h4>
                <pre class="fragment show-code">
                    <code class="python">
a = 5
print(type(a))

a = 5.0
print(type(a))

a = "5"
print(type(a))

print(type(print))

def func(a):
    return(a * 5)
print(type(func))
                    </code>
                </pre>
                <pre class="fragment show-code">
                    <code class="python">
print(func(5))
print(func("Hello "))
print(func("Na") + " Batman!")
                    </code>
                </pre>
            </div>
        </section>


        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Basic data types</p>
                <p class="fragment">
                    Integer, Float, String, Boolean, Tuple, List, Ditionary, Set
                </p>
                <pre class="fragment show-code">
                    <code class="python">
my_dict = {"key": 1.0, "x": "this is a string"}
print(my_dict["key"])

my_list = [1, 2, "string"]
print(my_list[0])

my_tuple = (2, 3, 4)
print(my_list[0])
                    </code>
                </pre>
                <p class="fragment select">Lets talk about pointers...</p>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="select">Lets talk about pointers...</p>
                <pre class="fragment show-code">
                    <code class="python">
# What do you think is the result?
x = [
    ["hello", "world"],
    ["string 1", "string 2"],
]

a = x[0]
print(a)
a[0] = "my"

x[1][0] = "this is"
print(x)
                    </code>
                </pre>
                <pre class="fragment show-code">
                    <code class="python">print(a == x[0])
print(id(a), id(x[0]))</code>
                </pre>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="select">Lets talk about pointers...</p>
                <pre class="show-code">
                    <code class="python">
# What do you think is the result?
x = [
    ["hello", "world"],
    ["string 1", "string 2"],
]

a = x[0]
print(a)
a[0] = "my"

x[1][0] = "this is"
print(x)
                    </code>
                </pre>
                <pre class="show-code">
                    <code class="python">
y = x[0][0]
y = "HELLO!"
print(x)
                    </code>
                </pre>
                <p class="fragment">Primitive types are copied!</p>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Creating your own types</p>
                <pre class="fragment show-code">
                    <code class="python">
class Square:
    def __init__(self, length):
        self.length = length
    
    def area(self):
        return self.length ** 2

s = Square(10)
print(s.area())
                    </code>
                </pre>
                <p class="fragment">Classes are good for some things and bad for others - we will deep dive later</p>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Variable assignment</p>
                
                <div class="col-flex-c" style="width: 60vw;">
                    <p>Multiple return values</p>
                    <pre class="fragment show-code">
                        <code class="python">
# Return type is tuple when more than one argument is returned
def func(a):
    return a, a + 2

x = func(5)
print(type(x), x)
                        </code>
                    </pre>
                    <p>Multiple variable assignment</p>
                    <pre class="fragment show-code">
                        <code class="python">
x, y = func(5)
print(f"{x=} {y=}")
                        </code>
                    </pre>
                </div>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Function arguments</p>
                
                <div class="col-flex-c" style="width: 60vw;">
                    <p>Positional and keyword arguments</p>
                    <pre class="fragment show-code">
                        <code class="python">
# Keyword arguments have a default
def func(a, b=2):
    return a + b

print(func(5), func(5, b=10))
                        </code>
                    </pre>
                    <p>Argument catching and expanding</p>
                    <pre class="fragment show-code">
                        <code class="python">
def func(*args, **kwargs):
    print(f"these are the args {args}")
    print(f"these are the keyword args {kwargs}")

func(2, "hello", mark_this=True)

x = [1, 2, 3]
d = {"hello": "world"}
func(*x, **d)
                        </code>
                    </pre>
                </div>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Function arguments</p>
                
                <div class="col-flex-c" style="width: 60vw;">
                    <p><span class="select">WARNING!</span> Side effects due to passing pointers</p>
                    <pre class="fragment show-code">
                        <code class="python">
def func(**kwargs):
    kwargs["x"][0] = 0
    kwargs["y"] = "func"

# What do you think the output is?
a = {"x": [1, 2, 3]}
func(**a)
print(a)
                        </code>
                    </pre>
                    <ol class="fragment">
                        <li><code class="python">{'x': [1, 2, 3]}</code></li>
                        <li class="fragment highlight-green"><code class="python">{'x': [0, 2, 3]}</code></li>
                        <li><code class="python">{'x': [0, 2, 3], 'y': 'func'}</code></li>
                    </ol>
                </div>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Control flow</p>
                
                <div class="col-flex-c" style="width: 30vw;">
                    <p>For loop</p>
                    <pre class="fragment show-code">
                        <code class="python">
for i in range(10):
    print(f"Hello world number {i}")
                        </code>
                    </pre>
                    <p>While loop</p>
                    <pre class="fragment show-code">
                        <code class="python">
a = 0
while a < 10:
    print(f"Looping {a=}")
    a += 1
                        </code>
                    </pre>
                </div>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Control flow</p>
                
                <div class="col-flex-c" style="width: 30vw;">
                    <p>Most sequences can be iterated</p>
                    <pre class="fragment show-code">
                        <code class="python">
d = {"a": 3.14, "b": 42, "c": 1}
for key, value in d.items():
    print(f"{key}={value}")

for c in "HELLO":
    print(f"{c}={ord(c)}")
                        </code>
                    </pre>
                </div>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Control flow</p>
                
                <div class="col-flex-c" style="width: 40vw;">
                    <p>If statement</p>
                    <pre class="fragment show-code">
                        <code class="python">
import numpy as np

x = np.random.randn(1)

if x < -1 or x > 1:
    print("Shocked!")
elif x < -2 and x > 2:
    print("WHAT?")
else:
    print("Completely normal phenomenon")
                        </code>
                    </pre>
                </div>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Math in C</p>
                
                <div class="col-flex-c" style="width: 40vw;">
                    <p><code>numpy</code> arrays are our bread and butter!</p>
                    <pre class="fragment show-code">
                        <code class="python">
import numpy as np

a = np.random.randn(2, 5)  # 5 rows, 10 columns
print(type(a))

# Array slicing
print(a[:, 3])  # print column 4

b = a[0, :] * 2  # Multiply a row and assign result
print(f"{a[0, :]=} {b=}")
                        </code>
                    </pre>
                </div>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">Math in C</p>
                
                <div class="col-flex-c" style="width: 40vw;">
                    <p><code>numpy</code> matrix operations</p>
                    <pre class="fragment show-code">
                        <code class="python">
import numpy as np

a = np.array([1, 1, 1], dtype=np.float64)
M = np.eye(3)
M[1, 1] = 2

print(f"{M=}")

x = M @ a  # Matrix multiplication!
print(f"{x=}")

# Broadcasting!
M = M[:, :] + x[:, None]
print(f"{M=}")
                        </code>
                    </pre>
                </div>
            </div>
        </section>

        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">I am speed!</p>
                
                <div class="col-flex-c" style="width: 60vw;">
                    <pre class="fragment show-code" style="height: 65vh;">
                        <code class="python">
import numpy as np
import timeit

setup_numpy = """
import numpy as np
np.random.seed(12345)
x = np.random.randn(3, 10_000)
M = np.eye(3)
"""
comp_numpy = "out = np.sum(M @ x, axis=0)"

dt_np = timeit.timeit(stmt=comp_numpy, number=10_000, setup=setup_numpy)
print(f"Execution time [numpy ] {dt_np} seconds")

setup_native = """
import numpy as np
np.random.seed(12345)
x = np.random.randn(3, 10_000).T.tolist()
M = np.eye(3).T.tolist()
"""
comp_native = """
out = []
for ind in range(10_000):
    x1, x2, x3 = x[ind]
    y = [
        x1 * M[0][dim] + x2 * M[1][dim] + x3 * M[2][dim]
        for dim in range(3)
    ]
    out.append(sum(y))
"""

dt_py = timeit.timeit(stmt=comp_native, number=10_000, setup=setup_native)
print(f"Execution time [native] {dt_py} seconds")

print(f"Speedup {dt_py/dt_np:.1f}")
                        </code>
                    </pre>
                </div>
            </div>
        </section>


        <section
        data-auto-animate
        >
            <div class="centered-container">
                <h3 class="title">Python programming primer</h3>
                <p class="mark">There are excellent tutorials online</p>
                <p class="select">Lets check out the handout above!</p>
            </div>
        </section>

    </div>
</div>