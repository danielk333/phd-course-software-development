---
title: "Solving problems"
description: "The basic skill that is needed to develop any software is to solve the many smaller problems that the software is composed of. To solve a problem one applies ones programming skills, to choose what problems should solved and choosing between different solutions is software design."
handout: solving-problems
weight: 4
---

<div class="reveal">
    <div class="slides">
        <section
            data-auto-animate
            data-background-image="media/orbits.gif"
            data-background-color="black"
            data-background-opacity="0.2"
        >
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <p class="fragment">First: some comments</p>
                <ul>
                    <li class="fragment">
                        CLI example:
                        <a
                            href="https://github.com/danielk333/dotfiles-installer/blob/main/dotinstaller/cli.py"
                            >my dotfiles installer</a
                        >
                    </li>
                    <li class="fragment">
                        Homework:
                        <a href="code/odd_solutions/find_dups.odin"
                            >my version</a
                        >
                        (made last night)
                    </li>
                </ul>
                <img
                    src="media/find_dups.png"
                    class="fragment"
                    style="height: 45vh"
                />
                <p class="fragment">
                    I could probably have shaved more off the problem but this
                    is quite short and general
                </p>
            </div>
        </section>
        <section
            data-auto-animate
            data-background-image="media/orbits.gif"
            data-background-color="black"
            data-background-opacity="1"
        >
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
            </div>
        </section>

        <section
            data-auto-animate
            data-background-image="media/orbits.gif"
            data-background-color="black"
            data-background-opacity="0.2"
        >
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <p>
                    The animation was made using <code>pyorb</code> - one of my
                    packages<br />
                    (code is in the handout)
                </p>
                <div class="fragment">
                    <p>
                        "Solving the problem" took about 10 minutes to make
                        because
                    </p>
                    <ul>
                        <li>I knew the tools</li>
                        <li>I knew Python</li>
                        <li>I knew the correct pattern</li>
                        <li>I knew which trade-offs were important</li>
                    </ul>
                </div>
            </div>
        </section>
        <section
            data-auto-animate
            data-background-image="media/orbits.gif"
            data-background-color="black"
            data-background-opacity="0.2"
        >
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <ul>
                    <p>Lets this lecture go trough</p>
                    <li class="fragment">
                        The steps involved in problem solving
                    </li>
                    <li class="fragment">
                        The trade-offs and choices you will need to do
                    </li>
                    <li class="fragment">
                        Some common patterns you might find useful
                    </li>
                    <li class="fragment">Some problem solving practice</li>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <p class="mark">Two levels for the solution</p>
                <ul>
                    <li class="fragment">
                        The idea/pattern of the solution (language agnostic)
                    </li>
                    <li class="fragment">
                        Implementing the idea/pattern (language dependant)
                    </li>
                </ul>
                <p class="fragment" style="padding-top: 1em">
                    An example problem: implement vector dot product
                </p>
                <ul class="list-sep-small">
                    <li class="fragment">
                        <span class="highlight"
                            >Multiplication map and sum reduce</span
                        ><br />
                        [map-reduce pattern]<br />
                        (Higher memory overhead / allows for parallelisation)
                    </li>
                    <li class="fragment">
                        <span class="highlight"
                            >Common iterator loop and mutable result
                            variable</span
                        ><br />
                        [online-algorithm pattern]<br />
                        (Lower memory overhead / single thread sequential
                        execution)
                    </li>
                    <li class="fragment">
                        <span class="highlight">Just start writing and discover the correct pattern as I go</span><br />
                    </li>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <p class="mark">Two levels for the solution</p>
                <p clase="padding-top: 1em;">
                    An example problem: implement vector dot product
                </p>
                <ul class="list-sep-small">
                    <li>
                        <span class="highlight"
                            >Common iterator loop and mutable result
                            variable</span
                        ><br />
                        [online-algorithm pattern]<br />
                        (Lower memory overhead / single thread sequential
                        execution)
                    </li>
                </ul>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            result = 0
                            for ind in range(len(vec1)):
                                result = result + vec1[ind] * vec2[ind]
                            return result
                    </code>
                </pre>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            result = 0
                            for ind in range(len(vec1)):
                                result = result + vec1[ind] * vec2[ind]
                            return result
                    </code>
                </pre>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            result = 0
                            for x1, x2 in zip(vec1, vec2):
                                result += x1 * x2
                            return result
                    </code>
                </pre>
                <p class="fragment">
                    Not dependant on [], shortest iter goes, readable
                </p>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            result = 0
                            for x1, x2 in zip(vec1, vec2):
                                result += x1 * x2
                            return result
                    </code>
                </pre>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            common_iter = zip(vec1, vec2)

                            x1, x2 = next(common_iter)
                            result = x1 * x2

                            for x1, x2 in common_iter:
                                result += x1 * x2

                            return result
                    </code>
                </pre>
                <p class="fragment">
                    Not dependant on first type, less readable, robust?
                </p>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            common_iter = zip(vec1, vec2)

                            x1, x2 = next(common_iter)
                            result = x1 * x2

                            for x1, x2 in common_iter:
                                result += x1 * x2

                            return result
                    </code>
                </pre>
                <pre data-id="code-animation1" class="fragment show-code">
                    <code data-line-numbers data-trim class="language-plaintext">
                        <!--
                        >>> dot([], [])
                        Traceback (most recent call last):
                          File "<python-input-6>", line 1, in <module>
                            dot([], [])
                            ~~~^^^^^^^^
                          File "<python-input-0>", line 4, in dot
                            x1, x2 = next(common_iter)
                                     ~~~~^^^^^^^^^^^^^
                        StopIteration
                        -->
                    </code>
                </pre>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre data-id="code-animation" class="show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            common_iter = zip(vec1, vec2)

                            x1, x2 = next(common_iter)
                            result = x1 * x2

                            for x1, x2 in common_iter:
                                result += x1 * x2

                            return result
                    </code>
                </pre>
                <pre data-id="code-animation1" class="fragment show-code">
                    <code data-line-numbers data-trim class="language-plaintext">
                        <!--
                        >>> dot([1, 2, 3], [1, 1, 1])
                        6
                        >>> dot(np.arange(3), np.linspace(0, 1, 3))
                        np.float64(2.5)
                        >>> dot(np.arange(3), np.arange(4))
                        np.int64(5)
                        -->
                    </code>
                </pre>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre data-id="code-animation" class="show-code">
                    <code data-trim data-line-numbers class="language-python">
                        def dot(vec1, vec2):
                            assert len(vec1) == len(vec2), "Input vectors must be same length"
                            if len(vec1) == 0:
                                return
                            common_iter = zip(vec1, vec2)

                            x1, x2 = next(common_iter)
                            result = x1 * x2

                            for x1, x2 in common_iter:
                                result += x1 * x2
                            
                            return result
                    </code>
                </pre>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre data-id="code-animation" class="show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            assert len(vec1) == len(vec2), "Input vectors must be same length"
                            if len(vec1) == 0:
                                return
                            common_iter = zip(vec1, vec2)

                            x1, x2 = next(common_iter)
                            result = x1 * x2

                            for x1, x2 in common_iter:
                                result += x1 * x2

                            return result
                    </code>
                </pre>
                <pre data-id="code-animation1" class="show-code">
                    <code data-line-numbers data-trim class="language-plaintext">
                        <!--
                        >>> dot([1, 2, 3], ["a", "b", "c"])
                        -->
                    </code>
                </pre>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre data-id="code-animation" class="show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            assert len(vec1) == len(vec2), "Input vectors must be same length"
                            if len(vec1) == 0:
                                return
                            common_iter = zip(vec1, vec2)

                            x1, x2 = next(common_iter)
                            result = x1 * x2

                            for x1, x2 in common_iter:
                                result += x1 * x2

                            return result
                    </code>
                </pre>
                <pre data-id="code-animation1" class="show-code">
                    <code data-line-numbers data-trim class="language-plaintext">
                        <!--
                        >>> dot([1, 2, 3], ["a", "b", "c"])
                        'abbccc'
                        -->
                    </code>
                </pre>
                <p class="fragment">
                    This is either a really cool or a really bad feature -
                    depending on what you want
                </p>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre data-id="code-animation" class="show-code">
                    <code data-line-numbers data-trim class="language-python">
                        def dot(vec1, vec2):
                            assert len(vec1) == len(vec2), "Input vectors must be same length"
                            if len(vec1) == 0:
                                return
                            common_iter = zip(vec1, vec2)

                            x1, x2 = next(common_iter)
                            result = x1 * x2

                            for x1, x2 in common_iter:
                                result += x1 * x2

                            return result
                    </code>
                </pre>
                <p>
                    Balance of abstraction and specification, safety and
                    brevity, efficiency and ease
                </p>
                <p class="fragment">Lets move to numpy arrays</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre data-id="code-animation" class="show-code">
                    <code data-trim data-line-numbers class="language-python">
                        import numpy as np

                        def dot(vec1, vec2):
                            if np.can_cast(vec1.dtype, vec2.dtype, casting="safe"):
                                result = vec2.dtype.type(0)
                            elif np.can_cast(vec2.dtype, vec1.dtype, casting="safe"):
                                result = vec1.dtype.type(0)
                            else:
                                raise TypeError("Types cannot be cast safely")
                            assert vec1.size == vec2.size

                            for x1, x2 in zip(vec1, vec2):
                                result += x1 * x2
                            
                            return result
                    </code>
                </pre>
                <p class="fragment">
                    Now we have MORE code that just checks input than actual
                    working lines
                </p>
                <p class="fragment highlight">
                    "Meh! No one is gonna input something stupid to this"
                </p>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre data-id="code-animation" class="show-code">
                    <code data-trim data-line-numbers class="language-python">
                        import numpy as np

                        def dot(vec1: np.ndarray, vec2: np.ndarray):
                            result = vec1.dtype.type(0)
                            for x1, x2 in zip(vec1, vec2):
                                result += x1 * x2
                            
                            return result
                    </code>
                </pre>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre data-id="code-animation" class="show-code">
                    <code data-trim data-line-numbers class="language-python">
                        from numpy import dot
                    </code>
                </pre>
                <p class="select">
                    We could also just know the correct tools for the job
                </p>
                <p class="fragment">
                    +it is written already / tested (hopefully) / robust
                    (hopefully) / fast (hopefully)
                </p>
                <p class="fragment mark">
                    (you can never assume with dependencies)
                </p>
                <p class="fragment">
                    -added a dependency (and its own tree) / no control over
                    behaviour / no option to optimize
                </p>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <pre data-id="code-animation" class="show-code">
                    <code data-trim data-line-numbers class="language-python">
                        from numpy import dot
                    </code>
                </pre>
                <ul>
                    <li>
                        Be aware of the trade-offs and make a concious decision
                    </li>
                    <li class="fragment">
                        It is also a matter of "time-to-implement" - pick your
                        battles
                        <p class="fragment mark">
                            E.g. coordinate transforms (used everywhere):<br />religiously
                            tested and validated and designed
                        </p>
                        <p class="fragment mark">
                            E.g. my CLI interface:<br />Thrown together and when
                            it crashes I fix it
                        </p>
                        <p class="fragment mark">
                            E.g. I trust numpy to be fast and scipy to be
                            correct<br />I don't trust the 1 star, 0 issues,
                            last commit 7 years ago, github repo
                        </p>
                    </li>
                    <li class="fragment select">
                        How do you learn these things?
                    </li>
                </ul>
            </div>
        </section>
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <ul>
                    <li class="select">How do you learn these things?</li>
                </ul>
                <ul style="margin-top: 1em">
                    <li>Write code, write a lot of code</li>
                    <li>Read other peoples code</li>
                    <li>Have other read your code</li>
                    <li>Throw away code, and write it again</li>
                    <li>Talk to others about code and writing code</li>
                    <li>Get coached on writing code</li>
                </ul>
                <p class="fragment highlight">So that is what we are doing!</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <p class="mark">
                    First: some common patterns I think are useful to know
                </p>
                <ul>
                    <li>Dependency injection</li>
                    <li>Composition over inheritance</li>
                    <li>Strategy pattern</li>
                    <li>Adapter</li>
                    <li>Interface</li>
                    <li>Vectorisation</li>
                    <li>Online-algorithm</li>
                    <li>Map-Reduce</li>
                    <li>Visitor</li>
                </ul>
                <p class="fragment select">
                    All of these are described in the handout!
                </p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <p class="highlight">Time to code!</p>
                <div class="fragment" style="margin: 0em 1em">
                    <p class="mark">Task 1:</p>
                    <p>List comparison</p>
                    <a href="https://adventofcode.com/2024/day/1"
                        >Advent of code 2024 - Day 1</a
                    >
                    <p>https://adventofcode.com/2024/day/1</p>
                </div>
                <p class="fragment">
                    If you don't want to log in: use
                    <a href="code/input/aoc2024-day1.txt">This input file</a> -
                    the result should be 1660292
                </p>
                <p class="fragment select">Let's compare solutions</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <p class="highlight">Time to code!</p>
                <div class="fragment" style="margin-top: 1em">
                    <p class="mark">Task 2:</p>
                    <p>Implement data-saving interface for a list of integers</p>
                    <p>There should be a function that takes</p>
                    <p><code>save_list(the_list, file_path, "file_format")</code></p>
                    <p>Should be able to save:</p>
                    <ul>
                        <li>
                            as
                            <a
                                href="https://docs.python.org/3/library/json.html"
                                >json</a
                            >
                        </li>
                        <li>
                            as
                            <a href="https://docs.python.org/3/library/csv.html"
                                >csv</a
                            >
                        </li>
                        <li>
                            as
                            <a
                                href="https://docs.python.org/3/library/pickle.html#module-pickle"
                                >pickle</a
                            >
                        </li>
                    </ul>
                </div>
                <p class="fragment select">Let's compare solutions</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Solving problems</h3>
                <p class="mark">Further study and homework</p>
                <p class="select">Let's check out the handout above!</p>
            </div>
        </section>
    </div>
</div>
