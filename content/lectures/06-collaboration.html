---
title: "Collaboration"
description: "Every large and successful software today is built in collaboration, either trough development or usage. Science itself has grown in complexity to where we need collaboration to be efficient and contemporary. Even if the code only has one developer, you will collaborate with your future self or the ones that eventually takes over or learns from you. This lecture covers vital requirements and tools for successful collaboration."
weight: 6
---

<div class="reveal">
    <div class="slides">
        <section
            data-auto-animate
            data-background-image="media/git_graph.png"
            data-background-color="black"
            data-background-opacity="1"
        >
            <div class="centered-container"></div>
        </section>
        <section
            data-auto-animate
            data-background-image="media/git_graph.png"
            data-background-color="black"
            data-background-opacity="0.1"
        >
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="fragment">Learning how to be accelerated together</p>
                <p class="fragment">
                    rather than being slowed down causing chaos on the way
                </p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <ul class="list-sep-small">
                    <li>
                        Collaboration is a social contract $\mapsto$<br />
                        <span class="fragment highlight">you need to communicate what you expect!</span><br />
                        <span class="fragment highlight">And listen to what every one else expects!</span>
                    </li>
                    <p class="fragment">It's like having roommates<br>if no one does the dishes, soon
                    all hell breaks loose</p>
                    <li class="fragment">Establish a way of doing things $\mapsto$<br />
                        <span class="fragment highlight">and stick to it, if it does not work, find
                        a new way together</span>
                    <p class="fragment select">Tools and methods to make collaboration smooth</p>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <p class="select">Tools and methods to make collaboration smooth</p>
                <table class="reveal-table-layout">
                    <tbody>
                        <tr>
                            <th>Sharing code $\mapsto$</th><th class="fragment">version control</th>
                        </tr>
                        <tr>
                            <th>Reading code $\mapsto$</th><th class="fragment">code style</th>
                        </tr>
                        <tr>
                            <th>Writing code $\mapsto$</th><th class="fragment">common design / development plan</th>
                        </tr>
                        <tr>
                            <th>Running code $\mapsto$</th><th class="fragment">build system / dependency management</th>
                        </tr>
                        <tr>
                            <th>Verifying code $\mapsto$</th><th class="fragment">tests</th>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <p class="select">Tools and methods to make collaboration smooth</p>
                <table class="reveal-table-layout">
                    <tbody>
                        <tr>
                            <th>Sharing code $\mapsto$</th><th class="fragment">git</th>
                        </tr>
                        <tr>
                            <th>Reading code $\mapsto$</th><th class="fragment">flake8/ruff/...</th>
                        </tr>
                        <tr>
                            <th>Writing code $\mapsto$</th><th class="fragment">documentation & co-coding/code-review</th>
                        </tr>
                        <tr>
                            <th>Running code $\mapsto$</th><th class="fragment">make / bash / ... & python packaging</th>
                        </tr>
                        <tr>
                            <th>Verifying code $\mapsto$</th><th class="fragment">pytest / generic automation system</th>
                        </tr>
                    </tbody>
                </table>
                <p class="fragment mark">2,3 we covered - 4,5 is later lectures</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <p class="select">Today we focus on <span class="highlight">git</span></p>
                <div class="fragment" style="max-width: 50vw;">
                    <p>I recommend everyone to watch the two first CodeRefinery git-intro videos or read the</p>
                    <p><a href="https://coderefinery.github.io/git-intro/">Introduction to version control with Git - Why we want to track versions and how to go back in time to a working version</a></p>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <p class="select">Today we focus on <span class="highlight">git</span></p>
                <p class="fragment">The command everyone should know: <code>man</code></p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        man git
                        man git-merge
                        man git-rebase
                        man git-pull
                        man git-commit
                        man git-push
                        man git-checkout
                        ...
                    </code>
                </pre>
                <p class="fragment">There is SO much good documentation</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>repository</li>
                    <li>commit</li>
                    <li>branch</li>
                    <li>tag</li>
                    <li>clone</li>
                    <li>remote</li>
                </ul>
                <p class="fragment">I can recommend the <a href="https://git-scm.com/book/en/v2">Pro Git 2nd
                    Edition</a> open source book</p>
            </div>
        </section>
        
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>repository</li>
                </ul>
                <p>All data and the entire history (commits, branches, tags, ...)</p>
                <p>the<code>.git</code> folder has everything</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>repository</li>
                    <li>commit</li>
                    <li>branch</li>
                    <li>tag</li>
                    <li>clone</li>
                    <li>remote</li>
                </ul>
            </div>
        </section>

                    <li class="fragment"><span class="highlight">branch:</span> Independent line of commits (mutable pointer to a commit)</li>
                    <li class="fragment"><span class="highlight">tag:</span> Pointer to a commit (but fixed)</li>
                    <li class="fragment"><span class="highlight">cloning:</span> Copy whole repository (and set the source as a remote)</li>
                    <li class="fragment"><span class="highlight">remote:</span> The git hosting platform (or literally any other computer)</li>
                </ul>
            </div>
        </section>
        


        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <p>Remotes have their own versions of branches</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        danielk@IRF033-danielk ~/g/sorts (danielk/develop)> git branch -a
                        * danielk/develop
                          develop
                          main
                          remotes/irf/develop
                          remotes/irf/main
                          remotes/origin/danielk/develop
                          remotes/origin/develop
                          remotes/origin/main

                        # I edited out the HEAD if you think it looks strange
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <li><code>branch</code></li>
                        <li><code>checkout</code></li>
                        <li><code>fetch</code></li>
                        <li><code>merge</code></li>
                        <li><code>pull</code></li>
                    </ul>
                    <ul>
                        <li><code>push</code></li>
                        <li><code>rebase</code></li>
                        <li><code>blame</code></li>
                        <li><code>log</code></li>
                        <li><code>remote</code></li>
                        <li><code>reset</code></li>
                    </ul>
                </div>
                <p class="fragment select">(no this is not a daft punk song)</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div>
                    <ul>
                        <li><code>diff</code></li>
                        <li>changes between commits in history</li>
                        <li><code>branch</code></li>
                        <li>create a new branch</li>
                        <li><code>checkout</code></li>
                        <li>goes to a commit (+tags/branches)</li>
                        <li><code>fetch</code></li>
                        <li>synchronize with the remote</li>
                        <li><code>merge</code></li>
                        <li>Join two histories together</li>
                        <li><code>pull</code></li>
                        <li>Perform a fetch and a merge</li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <li><code>branch</code></li>
                        <li><code>checkout</code></li>
                        <li><code>fetch</code></li>
                        <li><code>merge</code></li>
                        <li><code>pull</code></li>
                    </ul>
                    <ul>
                        <li><code>push</code></li>
                        <li><code>rebase</code></li>
                        <li><code>blame</code></li>
                        <li><code>log</code></li>
                        <li><code>remote</code></li>
                        <li><code>reset</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div>
                    <ul>
                        <li><code>push</code></li>
                        <li>synchronize with a remote</li>
                        <li><code>rebase</code></li>
                        <li>put divergent commits on-top new history</li>
                        <li><code>blame</code></li>
                        <li>locate origin of content</li>
                        <li><code>log</code></li>
                        <li>see the history</li>
                        <li><code>remote</code></li>
                        <li>work with your remotes</li>
                        <li><code>reset</code></li>
                        <li>remove commits in different ways</li>
                    </ul>
                </div>
                <p class="fragment select">(no this is not a daft punk song)</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p>Blame in the editor</p>
                <video controls loop style="max-height: 65vh">
                    <source src="media/git_blame.mp4" type="video/mp4" />
                </video>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="fragment">First we will setup a two person situation, but locally</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        # go to the folder where you want to do this exercise
                        git init --bare git-clash.git
                        git clone ./git-clash.git git-clash-person1
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p>Now we add some content</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        cd git-clash-person1
                        echo "Hello!" > README.md
                        git add README.md
                        git commit -m "added readme"
                        git push
                    </code>
                </pre>
                <p class="fragment highlight">Open up a new terminal and put them side-by-side</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Open up a new terminal and put them side-by-side</p>
                <p class="fragment">Navigate to the folder where you put your git folders</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git clone ./git-clash.git git-clash-person2
                        cd git-clash-person2
                    </code>
                </pre>
                <p class="fragment">Now you should have two terminals</p>
                <ul class="fragment">
                    <li>one in <code>git-clash-person1</code></li>
                    <li>one in <code>git-clash-person2</code></li>
                    <li><code>git remote -v</code> on both point to <code>git-clash.git</code></li>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p>Now you should have two terminals</p>
                <ul>
                    <li>one in <code>git-clash-person1</code></li>
                    <li>one in <code>git-clash-person2</code></li>
                    <li><code>git remote -v</code> on both point to <code>git-clash.git</code></li>
                </ul>
                <p class="fragment">This is <em>exactly</em> like a 2-person collaboration trough
                    gitlab</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p>Your task: make this happen and then fix it</p>
                <img class="fragment" src="media/git_merge.gif" style="height: 50vh;">
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>

                <p class="mark">Person 1 terminal</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        echo "World!" >> README.md
                        cat README.md
                        git add README.md
                        git commit -m "forgot world"
                        git push
                    </code>
                </pre>
                <p class="fragment highlight">Person 2 terminal</p>
                <pre data-id="code-animation1" class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        echo "Friend!" >> README.md
                        cat README.md
                        git add README.md
                        git commit -m "Someone forgot to add the end!"
                        git push
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre data-id="code-animation1" class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git push
                        # This fails with "! [rejected]"
                    </code>
                </pre>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git pull
                        # also fails!
                        # "You have divergent branches and need to specify how to reconcile them."
                        git fetch
                        git log --oneline --graph origin/main main
                    </code>
                </pre>
                <p class="fragment">You see how you have a divergence? This will need to be fixed</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git pull --rebase
                        # This causes a merge conflict
                        cat README.md
                    </code>
                </pre>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        <<<<<<< HEAD
                            stuff...
                        =======
                            stuff...
                        >>>>>>> 952ba69
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        <<<<<<< HEAD
                            stuff...
                        =======
                            stuff...
                        >>>>>>> 952ba69
                    </code>
                </pre>
                <div class="fragment">    
                    <p>Special marker inserted by git</p>
                    <p><code>HEAD</code> is remote changes</p>
                    <p><code>hash</code> is your changes</p>
                    <p>Resolve the conflict and remove the markers</p>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git add README.md
                        git rebase --continue
                        # No need to commit, you are modifying 
                        # your old commit to not be in conflict!

                        git log --oneline --graph origin/main main

                        git push
                    </code>
                </pre>
                <p class="fragment"><code>git log</code> shows one line of commits</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        nvim README.md 
                        # Modify World -> WORLD
                        git add README.md
                        git commit -m "thats better"
                    </code>
                </pre>
                <p class="mark">Person 1 terminal</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git pull
                        nvim README.md
                        # Modify World -> Earth
                        git add README.md
                        git commit -m "naming convention"
                        git push
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre data-id="code-animation1" class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git push
                        # ! [rejected] again!
                        git pull --no-rebase
                        # fix conflict
                        git add README.md
                        git merge --continue

                        git log --oneline --graph origin/main main
                    </code>
                </pre>
                <p class="fragment"><code>git log</code> shows a branch and a merge!</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p>Let us look at the handout - follow the workflow there</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <ul>
                 <p>Task 1 conflict</p>
                    <li>choose who pushes first</li>
                    <li>the other tries to push - fails</li>
                    <li>then pull</li>
                    <li>then rebase or merge to your branch</li>
                    <li>get merge conflict</li>
                    <li>resolve it (read the docs)</li>
                    <li>delete the implementation, push changes</li>
                    <li>let the other person try next</li>
                </ul>

            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <ul>
                 <p>Task 2</p>
                    <li>now pick two different tasks</li>
                    <li>and follow the workflow</li>
                </ul>
            </div>
        </section>

    </div>
</div>
