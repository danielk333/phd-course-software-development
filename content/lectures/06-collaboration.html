---
title: "Collaboration"
description: "Every large and successful software today is built in collaboration, either trough development or usage. Science itself has grown in complexity to where we need collaboration to be efficient and contemporary. Even if the code only has one developer, you will collaborate with your future self or the ones that eventually takes over or learns from you. This lecture covers vital requirements and tools for successful collaboration."
handout: collaboration
weight: 6
---

<div class="reveal">
    <div class="slides">
        <section
            data-auto-animate
            data-background-image="media/git_graph.png"
            data-background-color="black"
            data-background-opacity="1"
        >
            <div class="centered-container"></div>
        </section>
        <section
            data-auto-animate
            data-background-image="media/git_graph.png"
            data-background-color="black"
            data-background-opacity="0.1"
        >
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="fragment">Learning how to be accelerated together</p>
                <p class="fragment">
                    rather than being slowed down causing chaos on the way
                </p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <ul class="list-sep-small">
                    <li>
                        Collaboration is a social contract $\mapsto$<br />
                        <span class="fragment highlight">you need to communicate what you expect!</span><br />
                        <span class="fragment highlight">And listen to what every one else expects!</span>
                    </li>
                    <p class="fragment">It's like having roommates<br>if no one does the dishes, soon
                    all hell breaks loose</p>
                    <li class="fragment">Establish a way of doing things $\mapsto$<br />
                        <span class="fragment highlight">and stick to it, if it does not work, find
                        a new way together</span>
                    <p class="fragment select">Tools and methods to make collaboration smooth</p>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <p class="select">Tools and methods to make collaboration smooth</p>
                <table class="reveal-table-layout">
                    <tbody>
                        <tr>
                            <th>Sharing code $\mapsto$</th><th class="fragment">version control</th>
                        </tr>
                        <tr>
                            <th>Reading code $\mapsto$</th><th class="fragment">code style</th>
                        </tr>
                        <tr>
                            <th>Writing code $\mapsto$</th><th class="fragment">common design / development plan</th>
                        </tr>
                        <tr>
                            <th>Running code $\mapsto$</th><th class="fragment">build system / dependency management</th>
                        </tr>
                        <tr>
                            <th>Verifying code $\mapsto$</th><th class="fragment">tests</th>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <p class="select">Tools and methods to make collaboration smooth</p>
                <table class="reveal-table-layout">
                    <tbody>
                        <tr>
                            <th>Sharing code $\mapsto$</th><th>git</th>
                        </tr>
                        <tr>
                            <th>Reading code $\mapsto$</th><th>flake8/ruff/...</th>
                        </tr>
                        <tr>
                            <th>Writing code $\mapsto$</th><th>documentation & co-coding/code-review</th>
                        </tr>
                        <tr>
                            <th>Running code $\mapsto$</th><th>make / bash / ... & python packaging</th>
                        </tr>
                        <tr>
                            <th>Verifying code $\mapsto$</th><th>pytest / generic automation system</th>
                        </tr>
                    </tbody>
                </table>
                <p class="fragment mark">2,3 we covered - 4,5 is later lectures</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <p class="select">Today we focus on <span class="highlight">git</span></p>
                <div class="fragment" style="max-width: 50vw;">
                    <p>I recommend everyone to watch the two first CodeRefinery git-intro videos or read the</p>
                    <p><a href="https://coderefinery.github.io/git-intro/">Introduction to version control with Git - Why we want to track versions and how to go back in time to a working version</a></p>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="mark">Important aspects</p>
                <p class="select">Today we focus on <span class="highlight">git</span></p>
                <p class="fragment">The command everyone should know: <code>man</code></p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        man git
                        man git-merge
                        man git-rebase
                        man git-pull
                        man git-commit
                        man git-push
                        man git-checkout
                        ...
                    </code>
                </pre>
                <p class="fragment">There is SO much good documentation</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>repository</li>
                    <li>commit</li>
                    <li>branch</li>
                    <li>tag</li>
                    <li>clone</li>
                    <li>remote</li>
                </ul>
                <p class="fragment">I can recommend the <a href="https://git-scm.com/book/en/v2">Pro Git 2nd
                    Edition</a> open source book</p>
            </div>
        </section>
        
        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>repository</li>
                </ul>
                <p>All data and the entire history (commits, branches, tags, ...)</p>
                <p>Thats the <code>.git</code> folder</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>repository</li>
                    <li>commit</li>
                    <li>branch</li>
                    <li>tag</li>
                    <li>clone</li>
                    <li>remote</li>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>commit</li>
                </ul>
                <ul class="list-sep-small">
                    <li>A commit is a so called "snapshot"<br>(not file-based differences
                        like most other systems)</li>
                    <li>This snapshot contains meta data and points to a data tree</li>
                </ul>
                <figure class="fragment">
                    <img style="height: 20vh; width: auto;" src="media/pro-gitv2/commit-and-tree.png">
                    <caption>
                        Figure 9. A commit and its tree - Pro Git 2nd Edition (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 50vh; width: auto;" src="media/pro-gitv2/commit-and-tree.png">
                    <caption>
                        Figure 9. A commit and its tree - Pro Git 2nd Edition (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
                <p class="fragment mark">Commits also have parents (except the first)
                    <br>A series of commits can look like</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 55vh; width: auto;" src="media/pro-gitv2/data-model-3.png">
                    <caption>
                        Figure 175. All the reachable objects in your Git directory - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 30vh; width: auto;" src="media/pro-gitv2/data-model-3.png">
                </figure>
                <ul>
                    <p class="mark">Is that not a lot of duplicated data?</p>
                    <li class="fragment">Yes, but git also does diffs in a smart way!</li>
                    <li class="fragment">Every time you push, it optimizes the storage
                        <br>Trigger it yourself with <code>git gc</code>
                    </li>
                    <li class="fragment">do you recognize the output?
                        <br>One of the lines <code>Delta compression...</code>
                    </li>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>commit</li>
                </ul>
                <p>So that is what a commit is</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>repository</li>
                    <li>commit</li>
                    <li>branch</li>
                    <li>tag</li>
                    <li>clone</li>
                    <li>remote</li>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>branch</li>
                </ul>
                <ul class="list-sep-small">
                    <li class="fragment">A lightweight movable pointer to one of these commits</li>
                    <li class="fragment">A <code>git commit</code> also advances this pointer to that commit</li>
                    <li class="fragment">You are building a directed acyclic graph</li>
                    <li class="fragment">A branch... is branch (two commits with same parent)</li>
                    <li class="fragment">A merge is... a merge (one commits with two or more parents)</li>
                    <li class="fragment">The special <code>HEAD</code> pointers tracks where your
                        are (branch or commit)
                        <br>(<code>HEAD</code> on remotes are sort of the "default" branch)
                    </li>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>branch</li>
                </ul>
                <ul class="list-sep-small">
                    <li>A lightweight movable pointer to one of these commits</li>
                </ul>
                <p class="mark">An example</p>
                <figure class="fragment">
                    <img style="height: 20vh; width: auto;" src="media/pro-gitv2/head-to-master.png">
                    <caption>
                        Figure 13. HEAD pointing to a branch - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 50vh; width: auto;" src="media/pro-gitv2/head-to-master.png">
                    <caption>
                        Figure 13. HEAD pointing to a branch - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git checkout testing
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 50vh; width: auto;" src="media/pro-gitv2/head-to-testing.png">
                    <caption>
                        Figure 14. HEAD points to the current branch - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        ...
                        git commit 
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 50vh; width: auto;" src="media/pro-gitv2/advance-testing.png">
                    <caption>
                        Figure 15. The HEAD branch moves forward - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git checkout master
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 50vh; width: auto;" src="media/pro-gitv2/checkout-master.png">
                    <caption>
                        Figure 16. HEAD moves when you checkout - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        ...
                        git commit
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 65vh; width: auto;" src="media/pro-gitv2/advance-master.png">
                    <caption>
                        Figure 17. Divergent history - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>branch</li>
                </ul>
                <p>So that is what a branch is</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>repository</li>
                    <li>commit</li>
                    <li>branch</li>
                    <li>tag</li>
                    <li>clone</li>
                    <li>remote</li>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <ul class="list-sep-small" style="max-width: 70vw;">
                    <li>tag</li>
                    <p class="mark">A static pointer to a commit</p>
                    <li>clone</li>
                    <p class="mark">Make a complete copy of another repository
                        <br>set that repository as a remote</p>
                    <li>remote</li>
                    <p class="mark">Another repository somewhere
                        <br>(we will use a "bare" repository for testing)</p>
                </ul>
                <p></p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Some git terminology</p>
                <p>Remotes have their own versions of branches</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                         ~/g/phd-course-software-development (main)> git branch -a
                        * main
                          remotes/origin/HEAD -> origin/main
                          remotes/origin/main
                    </code>
                </pre>
                <p class="fragment mark">These can of course diverge like we saw before</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <li><code>branch</code></li>
                        <li><code>checkout</code></li>
                        <li><code>fetch</code></li>
                        <li><code>merge</code></li>
                        <li><code>pull</code></li>
                    </ul>
                    <ul>
                        <li><code>push</code></li>
                        <li><code>rebase</code></li>
                        <li><code>blame</code></li>
                        <li><code>log</code></li>
                        <li><code>remote</code></li>
                        <li><code>reset</code></li>
                    </ul>
                </div>
                <p class="fragment select">(no this is not a daft punk song)</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <li><code>branch</code></li>
                        <li><code>checkout</code></li>
                        <li><code>fetch</code></li>
                        <li><code>merge</code></li>
                        <li><code>pull</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git diff HEAD..HEAD~1
                            </code>
                        </pre>
                        <a href="https://git-scm.com/docs/git-rev-parse#_specifying_revisions">
                            git specifying revisions</a>
                        <p><code>^</code> and <code>~</code> and <code>@{}</code> are different (and
                        there are more!)</p>
                        <li><code>branch</code></li>
                        <li><code>checkout</code></li>
                        <li><code>fetch</code></li>
                        <li><code>merge</code></li>
                        <li><code>pull</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <li><code>branch</code></li>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git branch new_branch
                            </code>
                        </pre>
                        <li><code>checkout</code></li>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git checkout new_branch
                                git checkout -b another_new
                                git checkout v0.1  # a tag name
                                git checkout f5b4bf3  # a commit
                            </code>
                        </pre>
                        <li><code>fetch</code></li>
                        <li><code>merge</code></li>
                        <li><code>pull</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <li><code>branch</code></li>
                        <li><code>checkout</code></li>
                        <li><code>fetch</code></li>
                        <p>Download objects and refs from another repository</p>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git fetch  # default remote
                                git fetch origin
                                git fetch --all
                            </code>
                        </pre>
                        <li><code>merge</code></li>
                        <li><code>pull</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <li><code>branch</code></li>
                        <li><code>checkout</code></li>
                        <li><code>fetch</code></li>
                        <li><code>merge</code></li>
                        <p>Merge two or more development histories together</p>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git merge target_branch  # or commit-id
                                git merge (--continue | --abort | --quit)
                            </code>
                        </pre>
                        <p class="select">Can enter conflict if incompatible histories</p>
                        <li><code>pull</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <li><code>branch</code></li>
                        <li><code>checkout</code></li>
                        <li><code>fetch</code></li>
                        <li><code>merge</code></li>
                        <li><code>pull</code></li>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git pull
                                git pull origin
                            </code>
                        </pre>
                        <p>fetch and merge remote branch into local branch</p>
                        <p class="select">Can enter conflict if incompatible histories</p>
                    </ul>
                </div>
            </div>
        </section>


        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>diff</code></li>
                        <li><code>branch</code></li>
                        <li><code>checkout</code></li>
                        <li><code>fetch</code></li>
                        <li><code>merge</code></li>
                        <li><code>pull</code></li>
                    </ul>
                    <ul>
                        <li><code>push</code></li>
                        <li><code>rebase</code></li>
                        <li><code>blame</code></li>
                        <li><code>log</code></li>
                        <li><code>remote</code></li>
                        <li><code>reset</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>push</code></li>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git push
                                git push origin
                            </code>
                        </pre>
                        <p>Updates remote refs using local refs<br>(default is)<code>branch</code> $\mapsto$
                            <code>remote/name/branch</code></p>
                        <p class="select">Can fail if incompatible histories<br>(then you need to
                            pull and fix)</p>
                        <li><code>rebase</code></li>
                        <li><code>blame</code></li>
                        <li><code>log</code></li>
                        <li><code>remote</code></li>
                        <li><code>reset</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>push</code></li>
                        <li><code>rebase</code></li>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git rebase target_branch
                                git pull --rebase
                                git rebase (--continue|--skip|--abort|--quit)
                            </code>
                        </pre>
                        <p>Reapply commits on top of another base tip</p>
                        <p class="select">Can enter conflict if incompatible histories</p>
                        <li><code>blame</code></li>
                        <li><code>log</code></li>
                        <li><code>remote</code></li>
                        <li><code>reset</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>push</code></li>
                        <li><code>rebase</code></li>
                        <li><code>blame</code></li>
                        <p>Show what revision and author last modified each line of a file</p>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git blame path/to/file
                            </code>
                        </pre>
                        <li><code>log</code></li>
                        <li><code>remote</code></li>
                        <li><code>reset</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>push</code></li>
                        <li><code>rebase</code></li>
                        <li><code>blame</code></li>
                        <li><code>log</code></li>
                        <p>Shows commit logs</p>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git log
                                git log --all --graph --decorate --oneline
                                git log HEAD~3..HEAD
                            </code>
                        </pre>
                        <li><code>remote</code></li>
                        <li><code>reset</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>push</code></li>
                        <li><code>rebase</code></li>
                        <li><code>blame</code></li>
                        <li><code>log</code></li>
                        <li><code>remote</code></li>
                        <p>Work with remotes</p>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git remote -v
                                git remote remove upstream
                                git remote add upstream LOCATION
                            </code>
                        </pre>
                        <li><code>reset</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="highlight">Useful git commands</p>
                <div class="row-flex-c">
                    <ul>
                        <li><code>push</code></li>
                        <li><code>rebase</code></li>
                        <li><code>blame</code></li>
                        <li><code>log</code></li>
                        <li><code>remote</code></li>
                        <li><code>reset</code></li>
                        <p>Reset HEAD to a specified state</p>
                        <pre class="show-code">
                            <code data-line-numbers data-trim class="language-bash">
                                git reset HEAD~1
                                git reset [--soft | --mixed | --hard ...]
                            </code>
                        </pre>
                        <p class="select">BE CAREFUL - you can lose data with <code>reset</code></p>
                    </ul>
                </div>
            </div>
        </section>


        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p>A quick rebase overview</p>
                <figure>
                    <img style="height: 45vh; width: auto;" src="media/pro-gitv2/basic-rebase-1.png">
                    <caption>
                        Figure 35. Simple divergent history - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
            </div>
        </section>


        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 55vh; width: auto;" src="media/pro-gitv2/basic-rebase-1.png">
                    <caption>
                        Figure 35. Simple divergent history - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git checkout master
                        git merge experiment
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="height: 55vh; width: auto;" src="media/pro-gitv2/basic-rebase-2.png">
                    <caption>
                        Figure 36. Merging to integrate diverged work history - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        # RESET THAT
                        git checkout experiment
                        git rebase master
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="max-height: 55vh; width: auto;" src="media/pro-gitv2/basic-rebase-3.png">
                    <caption>
                        Figure 37. Rebasing the change introduced in C4 onto C3 - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        # C4 does not exist any more, it is now C4'
                        # So now we can 'fast forward' master as they are in line
                        git checkout master
                        git merge experiment
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <figure>
                    <img style="max-height: 55vh; width: auto;" src="media/pro-gitv2/basic-rebase-4.png">
                    <caption>
                        Figure 38. Fast-forwarding the master branch - (CC BY-NC-SA 3.0)
                    </caption>
                </figure>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p>Tools integration: <code>git blame</code> in the editor</p>
                <video controls loop style="max-height: 65vh">
                    <source src="media/git_blame.mp4" type="video/mp4" />
                </video>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="fragment">First we will setup a two person situation, but locally</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        # go to the folder where you want to do this exercise
                        git init --bare git-clash.git
                        git clone ./git-clash.git git-clash-person1
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p>Now we add some content</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        cd git-clash-person1
                        echo "Hello!" > README.md
                        git add README.md
                        git commit -m "added readme"
                        git push
                    </code>
                </pre>
                <p class="fragment highlight">Open up a new terminal and put them side-by-side</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Open up a new terminal and put them side-by-side</p>
                <p class="fragment">Navigate to the folder where you put your git folders</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git clone ./git-clash.git git-clash-person2
                        cd git-clash-person2
                    </code>
                </pre>
                <p class="fragment">Now you should have two terminals</p>
                <ul class="fragment">
                    <li>one in <code>git-clash-person1</code></li>
                    <li>one in <code>git-clash-person2</code></li>
                    <li><code>git remote -v</code> on both point to <code>git-clash.git</code></li>
                </ul>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p>Now you should have two terminals</p>
                <ul>
                    <li>one in <code>git-clash-person1</code></li>
                    <li>one in <code>git-clash-person2</code></li>
                    <li><code>git remote -v</code> on both point to <code>git-clash.git</code></li>
                </ul>
                <p class="fragment">This is <em>exactly</em> like a 2-person collaboration trough
                    gitlab</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p>Your task: make this happen and then fix it</p>
                <img class="fragment" src="media/git_merge.gif" style="height: 50vh;">
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>

                <p class="mark">Person 1 terminal</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        echo "World!" >> README.md
                        cat README.md
                        git add README.md
                        git commit -m "forgot world"
                        git push
                    </code>
                </pre>
                <p class="fragment highlight">Person 2 terminal</p>
                <pre data-id="code-animation1" class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        echo "Friend!" >> README.md
                        cat README.md
                        git add README.md
                        git commit -m "Someone forgot to add the end!"
                        git push
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre data-id="code-animation1" class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git push
                        # This fails with "! [rejected]"
                    </code>
                </pre>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git pull
                        # also fails!
                        # "You have divergent branches and need to specify how to reconcile them."
                        git status
                        git log --oneline --graph origin/main main
                    </code>
                </pre>
                <p class="fragment">You see how you have a divergence? This will need to be fixed</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git pull --rebase
                        # This causes a merge conflict
                        cat README.md
                    </code>
                </pre>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        <<<<<<< HEAD
                            stuff...
                        =======
                            stuff...
                        >>>>>>> 952ba69
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        <<<<<<< HEAD
                            stuff...
                        =======
                            stuff...
                        >>>>>>> 952ba69
                    </code>
                </pre>
                <div class="fragment">    
                    <p>Special marker inserted by git</p>
                    <p><code>HEAD</code> is remote changes</p>
                    <p><code>hash</code> is your changes</p>
                    <p>Resolve the conflict and remove the markers</p>
                </div>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git add README.md
                        git rebase --continue
                        # No need to commit, you are modifying 
                        # your old commit to not be in conflict!

                        git log --oneline --graph origin/main main

                        git push
                    </code>
                </pre>
                <p class="fragment"><code>git log</code> shows one line of commits</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        nvim README.md 
                        # Modify a word to upper case, e.g. World -> WORLD
                        git add README.md
                        git commit -m "thats better"
                    </code>
                </pre>
                <p class="mark">Person 1 terminal</p>
                <pre class="fragment show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git pull
                        nvim README.md
                        # Modify the same word to another word, e.g. World -> Earth
                        git add README.md
                        git commit -m "naming convention"
                        git push
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git push
                        # ! [rejected] again!
                        git pull --no-rebase
                        git status
                        cat README.md
                        # fix conflict
                        git add README.md
                        git merge --continue

                        git log --oneline --graph origin/main main
                    </code>
                </pre>
                <p class="fragment"><code>git log</code> shows a branch and a merge!</p>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        echo "I just want to add a line" > README.md
                        git add README.md
                        git commit -m "added a line"
                        cat README.md

                        # OPS a misstake!
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git reset --soft HEAD~1
                        git status
                        cat README.md

                        # We still have the changes staged, just not committed
                        # Lets see what --hard/mixed does
                        
                        git commit -m "added a line"
                        # Now we are back to how it was before the reset
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git reset --mixed HEAD~1
                        git status
                        cat README.md

                        # Changes are still there but not staged and not committed
                        git add README.md
                        git commit -m "added a line"

                        # Now we are back to how it was before the reset
                        # now lets try --hard
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        git reset --hard HEAD~1
                        git status
                        cat README.md

                        # Now the changes are gone too

                        # lets do a different commit
                        echo "I just want to add a line" >> README.md
                        echo "new file" > test.txt
                        git add README.md test.txt
                        git commit -m "added a line"
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p class="select">Some practical experience</p>
                <p class="highlight">Person 2 terminal</p>
                <pre class="show-code">
                    <code data-line-numbers data-trim class="language-bash">
                        # Lets say i want to revert just README.md 

                        # There are many ways to do that, but could e.g.
                        git reset --mixed HEAD~1
                        git status
                        git checkout README.md
                        git add test.txt
                        git commit -m "added a test file"
                    </code>
                </pre>
            </div>
        </section>

        <section data-auto-animate>
            <div class="centered-container">
                <h3 class="title">Collaboration</h3>
                <p>Let us look at the handout</p>
            </div>
        </section>
    </div>
</div>
